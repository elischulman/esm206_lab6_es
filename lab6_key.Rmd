---
title: "esm206_lab6"
author: "Eli Schulman"
date: "11/1/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)

library(tidyverse)
library(palmerpenguins)
library(broom)
library(equatiomatic)
```

## Example of a rank-based test

We'll make out own samples, using a pseudo random generator.
- sample.int(range of numbers (20 = 0-20), size = number of samples, replace = TRUE is resampling)
- set.seed() --> random sample will be same random sample for reproducability
  - set.seed() indicates the starting position in the long list of random int generated by R

```{r}
set.seed(1414)
gp_1 <- sample.int(20, size = 15, replace = TRUE)

set.seed(1424)
gp_2 <- sample.int(30, size = 15, replace = TRUE)
```

look for normality?

```{r}
hist(gp_1)

hist(gp_2)
```

Try a t-test

```{r}
t.test(gp_1, gp_2)
```

p.val of .1982 --> if data is taken from pops with same mean, 19.82% of the time the means will be at least as different as our samples (15-11) --> this is possible, so the null holds that these populations might have the same mean.

Wilcox Test (Rank based test)
- null hypothesis: if this samples were drawn for populations with the same ranks, the prob of finding samples with ranks at least as different as those found in our sample (.28)
```{r}
mwu <- wilcox.test(gp_1, gp_2)

mwu
```
--> median scores for groups 1 and 2 did not differ significantly. (Mann Witney U test: U(df) = 86, p = .28)

## Linear Regression
simple linear regression (single dependent variable and single independent variable)

```{r}
#exploratory plot of penguin body mass (y) vs flipper length (x)
ggplot(penguins, aes(x = flipper_length_mm, y = body_mass_g)) +
  geom_point() +
  geom_smooth(method = lm) # This is wrong, didn;t see the line she added 

```

Find a linear regression model using ordinary least squares describing the relationship etween flipper length and body mass for these penguins 

3 pieces:
- type of model?
- what is the relationship to model (DV ~ IV(s))
- where is the data 

```{r}
penguin_lm <- lm(body_mass_g ~ flipper_length_mm, data = penguins)
penguin_lm
```
Regression line --> body_mass_g = 49.69(flipper_length_mm) - 5780.83

issue --> if you had a penguin with flipper length 0, the penguin would have a mass of -5780 g

### Broom package returns model outputs as tidy data pieces

```{r}
penguin_lm_tidy <- broom::tidy(penguin_lm)

penguin_lm_tidy
```















